{% extends "base.html" %}

{% block content %}
  <div class="container mt-5">
    <div class="card shadow-lg p-4 rounded-lg border-0 bg-light">
      <h2 class="mb-4 text-primary text-center">{{ task.name }}</h2>
      <p class="text-muted text-center">{{ task.task_type }}</p>

      <div class="row mt-3">
        <div class="col-md-6">
          <strong>Description:</strong>
          <p>{{ task.description }}</p>
        </div>
        <div class="col-md-6">
          <strong>Deadline:</strong>
          <p>{{ task.deadline|date:"M d, Y H:i" }}</p>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-6">
          <strong>Priority:</strong>
          <p>{{ task.priority }}</p>
        </div>
        <div class="col-md-6">
          <strong>Status:</strong>
          <p class="text-success">{{ task.is_completed|yesno:"Completed,Not completed" }}</p>
        </div>
      </div>

      <div class="text-center mt-4">
        <a href="{% url 'manager:task-list' %}" class="btn btn-secondary px-5 py-2 rounded-pill shadow-sm">
          Back to Task List
        </a>

        {% if task.is_completed %}
          <a href="{% url 'manager:toggle-task-status' task.id %}" class="btn btn-warning px-5 py-2 rounded-pill shadow-sm mt-3">
            Mark as Not Completed
          </a>
        {% else %}
          <a href="{% url 'manager:toggle-task-status' task.id %}" class="btn btn-success px-5 py-2 rounded-pill shadow-sm mt-3">
            Mark as Completed
          </a>
        {% endif %}

        <a href="{% url 'manager:task-edit' task.id %}" class="btn btn-primary px-5 py-2 rounded-pill shadow-sm mt-3">
          Edit Task
        </a>

        <form method="POST" action="{% url 'manager:task-delete' task.id %}" class="d-inline mt-3">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger px-5 py-2 rounded-pill shadow-sm">
            Delete Task
          </button>
        </form>
      </div>
    </div>
  </div>
{% endblock %}
